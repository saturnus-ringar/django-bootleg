{% extends bootleg_settings.ADMIN_TEMPLATE %}
{% load i18n crispy_forms_tags humanize %}
{% load render_table from django_tables2 %}
{% block title %}{{ heading }}{% endblock title %}

{% block h1 %}{{ model.meta.verbose_name_plural }}{% endblock %}

{% block content %}
{% if filter_form %}
    <div class="row">
        <div class="col-2">
            <div class="bg-light border rounded p-4">
                {% crispy filter_form filter_form.helper %}
                <a href=".">
                    <button type="button" class="btn btn-sm btn-danger">{% trans "Clear search filter" %}</button>
                </a>
            </div>
        </div>
        <div class="col-10">
{% endif %}

{{ block.super }}
{% if not model.meta.disable_create_update is True %}
    <a href="{{ model.create_url }}">
        <button class="btn btn-primary mt-3 mb-3">{% trans "Create" %} {{ model.meta.verbose_name }}</button>
    </a>
{% endif %}

<div class="mt-4 mb-4">
    <strong>{{ paginator.count|intcomma }}</strong> {{ model.meta.verbose_name_plural }} {% trans "found" %}
</div>

{% if object_list %}
    {% render_table table %}
{% endif %}
{% endblock content %}

{% if filter_form %}
        </div>
    </div>
{% endif %}